<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>√únye Elite Berber</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body { font-family: Arial; background: #f2f2f2; margin:0; text-align:center; }
input, select, button { padding:10px; margin:10px; width:80%; max-width:300px; }
button { cursor:pointer; background:black; color:white; border:none; }
.models { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:20px; max-width:900px; margin:auto; margin-top:20px; }
.card { background:white; padding-bottom:15px; border-radius:8px; }
.card img { width:100%; height:200px; object-fit:cover; }
</style>
</head>
<body>

<h2>Kayƒ±t / Giri≈ü</h2>
<input id="email" placeholder="E-posta"><br>
<input id="password" type="password" placeholder="≈ûifre"><br>
<button onclick="kayit()">Kayƒ±t Ol</button>
<button onclick="giris()">Giri≈ü Yap</button>

<div id="modellerDiv" style="display:none">
  <h2>Model Se√ß</h2>
  <div class="models">
    <div class="card">
      <img src="https://picsum.photos/300/200?1">
      <h3>Fade Kesim</h3>
      <button onclick="modelSec('Fade Kesim','250 TL')">Se√ß</button>
    </div>
    <div class="card">
      <img src="https://picsum.photos/300/200?2">
      <h3>Klasik Model</h3>
      <button onclick="modelSec('Klasik Model','200 TL')">Se√ß</button>
    </div>
  </div>
</div>

<div id="randevuDiv" style="display:none">
  <h2 id="secim"></h2>
  <p id="fiyat"></p>
  <input type="date" id="tarih"><br>
  <select id="saat">
    <option value="">Saat Se√ß</option>
    <option>10:00</option>
    <option>11:00</option>
    <option>12:00</option>
    <option>13:00</option>
    <option>14:00</option>
    <option>15:00</option>
    <option>16:00</option>
    <option>17:00</option>
  </select><br>
  <button onclick="randevuAl()">Randevu Al</button>
</div>

<script>
// üî• Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyBq36Zr3UaB5aWKl6O8U4ZNmag86tLm5M0",
  authDomain: "berber-randevu-b3c1e.firebaseapp.com",
  projectId: "berber-randevu-b3c1e",
  storageBucket: "berber-randevu-b3c1e.appspot.com",
  messagingSenderId: "336472169354",
  appId: "1:336472169354:web:1dca2284b006cc2aa88673",
  measurementId: "G-DZQE3CX0FG"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

let secilenModel = "";
let secilenFiyat = "";

function kayit() {
  auth.createUserWithEmailAndPassword(email.value,password.value)
    .then(()=>alert("Kayƒ±t ba≈üarƒ±lƒ±!"))
    .catch(e=>alert(e.message));
}

function giris() {
  auth.signInWithEmailAndPassword(email.value,password.value)
    .then(()=>{
      alert("Giri≈ü ba≈üarƒ±lƒ±!");
      document.getElementById("modellerDiv").style.display="block";
    })
    .catch(e=>alert(e.message));
}

function modelSec(model,fiyat){
  secilenModel=model;
  secilenFiyat=fiyat;
  document.getElementById("modellerDiv").style.display="none";
  document.getElementById("randevuDiv").style.display="block";
  document.getElementById("secim").innerText=model;
  document.getElementById("fiyat").innerText="Fiyat: "+fiyat;
}

function randevuAl(){
  const tarih=document.getElementById("tarih").value;
  const saat=document.getElementById("saat").value;
  const user=auth.currentUser;
  if(!tarih || !saat) return alert("Tarih ve saat se√ßin!");
  if(!user) return alert("Giri≈ü yapmalƒ±sƒ±nƒ±z!");
  db.collection("randevular").add({
    uid:user.uid,
    email:user.email,
    model:secilenModel,
    fiyat:secilenFiyat,
    tarih:tarih,
    saat:saat,
    zaman:firebase.firestore.FieldValue.serverTimestamp()
  }).then(()=>alert("Randevu alƒ±ndƒ±!"));
}
</script>
</body>
</html>
